# --- SCC: allow UID 0 (root); no extra caps added
apiVersion: security.openshift.io/v1
kind: SecurityContextConstraints
metadata:
  name: restricted-v2-allow-root
  annotations:
    kubernetes.io/description: "restricted-v2 clone that permits UID 0"
allowPrivilegeEscalation: false
allowPrivilegedContainer: false
allowHostDirVolumePlugin: false
allowHostIPC: false
allowHostNetwork: false
allowHostPID: false
allowHostPorts: false
readOnlyRootFilesystem: false
priority: 20
allowedCapabilities: ["NET_BIND_SERVICE","SYS_CHROOT"]         
defaultAddCapabilities: ["NET_BIND_SERVICE","SYS_CHROOT"]
requiredDropCapabilities: []
runAsUser:
  type: RunAsAny                # key change: allow UID 0 (image default)
seLinuxContext:
  type: MustRunAs
seccompProfiles:
  - runtime/default
fsGroup:
  type: MustRunAs
supplementalGroups:
  type: RunAsAny
volumes:
  - configMap
  - downwardAPI
  - emptyDir
  - ephemeral
  - persistentVolumeClaim
  - projected
  - secret
users: []
groups: []
